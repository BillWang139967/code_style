## 编程实践
<!-- vim-markdown-toc GFM -->

* [使用异常系统](#使用异常系统)
* [检查输入参数](#检查输入参数)
* [日志](#日志)
* [如何切分模块和函数](#如何切分模块和函数)

<!-- vim-markdown-toc -->

## 使用异常系统
> * 尽量使用编程语言提供的 Exception 机制，而不是返回一个错误码来标识错误
> * 请不要 catch 异常，除非你知道怎么处理。

## 检查输入参数

> * 特别是接收外部输入的（如 HTTP 接口等），一定要进行参数检查后再进行后续逻辑

## 日志
> 服务端必需要有 access log
```
记录请求执行时间
记录请求参数（如 URL 等）
记录请求返回
记录请求 ID
记录请求内部每个阶段的耗时
```
> 出错时 error log
```
记录请求 ID
记录异常堆栈
```
## 如何切分模块和函数
> Q: 代码怎么分层更合理，代码分层粒度太粗，复用性太差，分层粒度太细，入参可能又会很多，代码维护又会太复杂
```
A:"代码怎么分层更合理"
没有“代码分层”这个说法。应该好好学习的是：
1. 怎么切分模块
2. 怎么切分函数
针对这两个切分，要做到的都是single purpose（单一目的）。
针对切模块，要区分"过程类模块" 和 "数据类模块" ，并学会 "从数据出发考虑模块的划分"
```
